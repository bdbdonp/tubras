============
Export Panel
============

.. toctree::
   :maxdepth: 2

The Export panel is designed to control what is exported along with the location 
of the generated output.  If you have installed and configured a walk test 
application (see :doc:`irrB Utilities </utilities>`), you may also choose to 
optionally walk test your exported scene.

.. Note::
   All output (texture, mesh, & scene files) generated by **irrB** will be written 
   relative to the output location specified by the "**Out Directory**" field. 
   By default:

   * The **Scene** file (.irr) is saved to the output directory -
     "{Out Directory}/{scene name}.irr".
   * **Texture** files are written to a sub-directory named "tex" - "{Out Directory}/tex/".
   * **Mesh** files are written to a sub-directory named "mdl" -
     "{Out Directory}/mdl/".

   All file references in the generated scene and mesh files are relative as well.  
   This allows scenes to be loaded from arbitrary locations as long as the base 
   and relative sub-directories remain intact.

   It is also worth noting that the default "mdl/" and "tex/" sub-directories used
   for storing mesh and texture files, may be customized in **irrB's**
   configuration file.

Depending on the Export option(s) you select, additional options may or may
not appear.  For example, selecting the "Walktest" option will cause
walktest related options to appear.


Basic Export Options
====================

.. container:: irrb-right

	.. image:: _static/img002.png    

**Export** - The export button initiates the export process. Note that this button 
conveniently appears on all of the **irrB** custom panels. 

**Out Directory** - The base directory where exported content will be stored. If 
left blank, **irrB** will display Blender's directory selection dialog.  

**Scene** - Check box used to control whether or not a scene file (".irr") is generated. 
If checked, an Irrlicht scene file is written to the selected output directory.  The 
generated scene file name is based on the active Blender scene name: 

	"{Out Directory}/{Blender scene name}.irr" 
	 
Therefore, if the scene being exported is named "TestLevel", the generated scene file 
would be saved to "{Out Directory}/TestLevel.irr".

**Light(s)** - Export light objects to the Irrlicht scene file. 

**Camera(s)** - Export camera objects to the Irrlicht scene file. 

**Selected Only** - Export only **objects** (including lights and cameras) that 
are selected in the current scene. When un-selected, all objects in Blender's 
visible layers will be exported. 

**Animations** - not implemented.

**Physics** - Export collision/physics data to the Irrlicht scene file. When 
selected, additional physics related options will appear.

**Pack Files** - Pack **all** generated into a single "{Out Directory}/{scene name}.zip" file. 

**Make Executable** - Create an executable containing all of the scene, mesh, and texture
data embedded in the generated executable.  The generated executable file name is based
on the current Blender scene name - "{Out Directory}/{scene name}.exe". Note that this
option will only appear if the iwalktest utility has been installed and
properly configured.

**Binary Meshes** - Convert mesh files to the experimental ".irrbmesh" 
(binary .irrmesh) format. This option will only appear if you have the imeshcvt 
utility installed and properly configured. For more information on the .irrbmesh 
format, see the section named :doc:`Binary Mesh Format </irrbmesh>`. 

**Walktest** - Walk test your exported scene after exporting.  This option will 
only appear if you have the IWALKTEST environment variable defined. When selected, 
the program defined by the IWALKTEST environment variable is executed with your 
exported scene file passed as parameter immediately after a successful export.  
The ":doc:`irrb Utilities </utilities>`" contain a program that you may use to 
examine an exported scene using the Irrlicht rendering engine.

Walktest Options
================

.. container:: irrb-left

   .. image:: _static/img003.png 

When the Walktest check box is selected, the following additional options
will appear in the export panel.

**Antialias** - Antialiasing enabled.  When enabled, **irrB**'s iwalktest
application set's antialiasing to 4 when creating the video driver. 

**VSync** - Enable VSync.

**Full Screen** - Run in full screen mode.

**Keep Aspect** - The walk test window  should maintain the original aspect of 
the default screen resolution.

**Show Help** - Show help on start up.

**Debug** - Show debug info on start up.

**Stencil Buffer** - Use stencil buffers.

**Video Driver** - Which video driver to use. This option will only appear for 
Windows users.  The choices are DirectX or OpenGL.

**Resolution** - The video resolution to use. Options include "minimal", 
"medium", "maximum", or "custom".  When "custom" is selected, the exact 
horizontal and vertical dimensions may be explicitly entered.

**Velocity** - The camera movement speed in units per second.

**Angular Velocity** - The camera rotational speed.

**Velocity Damping** - Velocity damping speed in units per second. 0.0 is
used to indicate no velocity damping.

Physics Options
===============

.. container:: irrb-right

   .. image:: _static/img004.png 

When the Physics and Walktest check boxes are selected, the following additional 
options will appear in the export panel.

**Physics System** - Which collision/physics system to use. Options include either 
Bullet or Irrlicht as the collision/physics system. Note that Irrlicht is a collison
only system so rigid body dynamics are ignored. 

**Character Width** - The width in units to use for the character
controller.

**Character Height** - The height in units to use for the character
controller. 

**Character Step Height** - The step height in units to use for the
character controller.

**Character Jump Speed** - The jump speed in units per second of the
character controller. 

**Broadphase Algorithm** - The Bullet broadphase algorithm to use.

**Maximum Substeps** - The maximum number of Bullet sub-steps to use.

**Time Step** - The Bullet time step to use.

Notes     
=====

**Walk Testing**.  When an application has been correctly defined for walk 
testing, a "Walktest" button will appear below the "Export" button after your 
initial export.  Clicking on the "Walktest" button will immediately execute the 
targeted walktest application.

